!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@ngrx/store"),require("rxjs/observable/merge"),require("rxjs/operator/ignoreElements"),require("rxjs/operator/materialize"),require("rxjs/operator/map"),require("@angular/core"),require("rxjs/Observable"),require("rxjs/operator/filter"),require("rxjs/operator/groupBy"),require("rxjs/operator/mergeMap"),require("rxjs/operator/exhaustMap"),require("rxjs/operator/dematerialize"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["exports","@ngrx/store","rxjs/observable/merge","rxjs/operator/ignoreElements","rxjs/operator/materialize","rxjs/operator/map","@angular/core","rxjs/Observable","rxjs/operator/filter","rxjs/operator/groupBy","rxjs/operator/mergeMap","rxjs/operator/exhaustMap","rxjs/operator/dematerialize","rxjs/Subject"],r):r((e.ngrx=e.ngrx||{},e.ngrx.effects=e.ngrx.effects||{}),e.ngrx.store,e.Rx.Observable,e.Rx.Observable.prototype,e.rxjs_operator_materialize,e.rxjs_operator_map,e.ng.core,e.Rx,e.Rx.Observable.prototype,e.rxjs_operator_groupBy,e.rxjs_operator_mergeMap,e.rxjs_operator_exhaustMap,e.rxjs_operator_dematerialize,e.rxjs_Subject)}(this,function(e,r,t,o,n,c,i,a,s,u,f,p,l,d){"use strict";function y(e){return P.hasOwnMetadata(N,e)?P.getOwnMetadata(N,e):[]}function x(e,r){P.defineMetadata(N,r,e)}function g(e){var r=(void 0===e?{dispatch:!0}:e).dispatch;return function(e,t){var o=y(e),n={propertyName:t,dispatch:r};x(e,o.concat([n]))}}function j(e){return Object.getPrototypeOf(e)}function h(e){var r=j(e);return R in r&&"function"==typeof r[R]}function v(e){var r=j(e).constructor.name,i=w(e).map(function(t){var i=t.propertyName,a=t.dispatch,s="function"==typeof e[i]?e[i]():e[i];if(!1===a)return o.ignoreElements.call(s);var u=n.materialize.call(s);return c.map.call(u,function(t){return{effect:e[i],notification:t,propertyName:i,sourceName:r,sourceInstance:e}})});return t.merge.apply(void 0,i)}function m(e){var r=v(e);return h(e)?e.ngrxOnRunEffects(r):r}function b(e,r){E(e,r),_(e,r)}function E(e,r){if("E"===e.notification.kind){var t="Effect "+M(e)+" threw an error";r.report(t,{Source:e.sourceInstance,Effect:e.effect,Error:e.notification.error,Notification:e.notification})}}function _(e,r){if("N"===e.notification.kind){var t=e.notification.value;if(!O(t)){var o="Effect "+M(e)+" dispatched an invalid action";r.report(o,{Source:e.sourceInstance,Effect:e.effect,Dispatched:t,Notification:e.notification})}}}function O(e){return e&&e.type&&"string"==typeof e.type}function M(e){var r=e.propertyName,t=e.sourceInstance;return'"'+e.sourceName+"."+r+("function"==typeof t[r]?"()":"")+'"'}function S(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e}function I(e){return e.payload}var q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),N="@ngrx/effects",P=Reflect,w=r.compose(y,j),R="ngrxOnRunEffects",z=function(e){function r(r){var t=e.call(this)||this;return r&&(t.source=r),t}return q(r,e),r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.ofType=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return s.filter.call(this,function(r){return e.some(function(e){return e===r.type})})},r}(a.Observable);z.decorators=[{type:i.Injectable}],z.ctorParameters=function(){return[{type:a.Observable,decorators:[{type:i.Inject,args:[r.ScannedActionsSubject]}]}]};var A=(new i.InjectionToken("ngrx/effects: Immediate Effects"),new i.InjectionToken("ngrx/effects: Root Effects")),k=new i.InjectionToken("ngrx/effects: Feature Effects"),B=new i.InjectionToken("Browser Console"),T=function(){function e(e){this.console=e}return e.prototype.report=function(e,r){this.console.group(e);for(var t in r)this.console.error(t+":",r[t]);this.console.groupEnd()},e}();T.decorators=[{type:i.Injectable}],T.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[B]}]}]};var F=function(e){function r(r){var t=e.call(this)||this;return t.errorReporter=r,t}return q(r,e),r.prototype.addEffects=function(e){this.next(e)},r.prototype.toActions=function(){var e=this;return f.mergeMap.call(u.groupBy.call(this,j),function(r){return l.dematerialize.call(c.map.call(p.exhaustMap.call(r,m),function(r){return b(r,e.errorReporter),r.notification}))})},r}(d.Subject);F.decorators=[{type:i.Injectable}],F.ctorParameters=function(){return[{type:T}]};var D=function(){function e(e,r){this.effectSources=e,this.store=r,this.effectsSubscription=null}return e.prototype.start=function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))},e.prototype.ngOnDestroy=function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)},e}();D.decorators=[{type:i.Injectable}],D.ctorParameters=function(){return[{type:F},{type:r.Store}]};var C=function(){function e(e,r,t){this.sources=e,r.start(),t.forEach(function(r){return e.addEffects(r)})}return e.prototype.addEffects=function(e){this.sources.addEffects(e)},e}();C.decorators=[{type:i.NgModule,args:[{}]}],C.ctorParameters=function(){return[{type:F},{type:D},{type:Array,decorators:[{type:i.Inject,args:[A]}]}]};var V=function(){function e(e,r){this.root=e,r.forEach(function(r){return r.forEach(function(r){return e.addEffects(r)})})}return e}();V.decorators=[{type:i.NgModule,args:[{}]}],V.ctorParameters=function(){return[{type:C},{type:Array,decorators:[{type:i.Inject,args:[k]}]}]};var G=function(){function e(){}return e.forFeature=function(e){return{ngModule:V,providers:[e,{provide:k,multi:!0,deps:e,useFactory:S}]}},e.forRoot=function(e){return{ngModule:C,providers:[D,F,T,z,e,{provide:A,deps:e,useFactory:S},{provide:B,useValue:console}]}},e}();G.decorators=[{type:i.NgModule,args:[{}]}],G.ctorParameters=function(){return[]},e.Effect=g,e.mergeEffects=v,e.Actions=z,e.EffectsModule=G,e.EffectSources=F,e.toPayload=I,e.ɵb=V,e.ɵa=S,e.ɵf=C,e.ɵh=D,e.ɵg=T,e.ɵe=B,e.ɵd=k,e.ɵc=A,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=./dist/effects/bundles/effects.umd.min.js.map